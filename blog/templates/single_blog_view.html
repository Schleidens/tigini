{% extends 'base.html' %}


{% block content %}

<div class="mx-5 mt-4 justify-content-center">

    <div class="card mb-3" style="background-color: #f0f0f0;">   

        {% if blog.cover %}
            <img src="{{ blog.cover.url }}" class="w-auto" style="max-height: 300px; object-fit: cover;" alt="{{ blog.title }}">
        {% endif %}

        <div class="card-body">

            <div class="px-4 pt-3 pb-1">

                {% if blog.author.profile_photo %}
                    <img src="{{ blog.author.profile_photo.url }}" class="border border-2 rounded-circle mx-auto" style="width: 30px; height: 30px;" alt="{{ profile.username}}'s profile photo">
                {% else %}
                    <img src="https://vectorified.com/images/no-profile-picture-icon-24.jpg" class="border border-2 rounded-circle mx-auto" style="width: 30px; height: 30px;" alt="no profile photo">
                {% endif %}

                <span class="fw-medium">
                    <a href="{% url 'single-profile' blog.author.username %}" style="color: inherit; text-decoration: none;">
                        @{{ blog.author.username }}
                    </a>
                </span>

            </div>

            <div class="px-4 pb-3">
                <p class="card-text px-3">
                    <small class="text-body-secondary fw-light">
                        Last updated {{ blog.date }}
                    </small>
                </p>
            </div>

            <div class="px-4">
                <h1 class="card-title fw-bold fs-1">
                    {{ blog.title }}
                </h1>
            </div>

            <div class="pt-4 px-4">
                <p class="card-text">
                    {{ blog.content }}
                </p>
            </div>
        </div>
    </div>

    {% if request.user.is_authenticated and blog.author == request.user %}
      <div class="">
          <a href="{% url 'edit-blog' blog.slug %}" class="btn btn-primary">Edit</a>
          <button class="btn btn-danger">Delete blog</button>
      </div>
    {% endif %}
         
</div>

{% endblock content %}